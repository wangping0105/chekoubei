<div class="container">
  <h1>添加门店</h1>
  <div>
    <%= form_for(@store, html:{ class: "form-horizontal"}, multipart: true) do |f| %>
      <div class="form-group">
        <label class="col-sm-2 control-label">门店名称</label>
        <div class="col-sm-10">
          <%= f.text_field :name, class:"form-control", readonly: (@store.new_record? ? false: true) %>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">品牌</label>
        <div class="col-sm-10">
          <%= f.select :brand_id, @brands, {}, class: "form-control", require: true%>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">类型</label>
        <div class="col-sm-10">
          <%= select_tag :store_category_id, options_for_select(@store_categories), {class: "form-control", require: true}%>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">简介</label>
        <div class="col-sm-10">
          <%= f.text_area :introduction,  { class: "form-control" }%>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">营业时间</label>
        <div class="col-sm-10">
          <div class="col-sm-6"><%= text_field_tag :business_hours_start, nil, { class: "form-control" }%></div>
          <div class="col-sm-6"><%= text_field_tag :business_hours_end, nil, { class: "form-control" }%></div>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">等级</label>
        <div class="col-sm-10">
          <%= f.text_field :level, class: "form-control"%>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label"></label>
        <div class="col-sm-10">
            <%= f.fields_for :addresses do |addresses_form| %>
            <div class="col-sm-2">
              <%= addresses_form.label '省' %>
              <%= addresses_form.select :province_id, Province.all, { include_blank: "请选择" }, class: 'col-sm-3 form-control' %>
            </div>
            <div class="col-sm-2">
              <%= addresses_form.label '市' %>
              <%= addresses_form.select :city_id, [] , { include_blank: "请选择" }, class: 'form-control'%>
            </div>
            <div class="col-sm-2">
              <%= addresses_form.label '区' %>
              <%= addresses_form.select :district_id, [] , { include_blank: "请选择" }, class: 'form-control'%>
            </div>
            <div class="col-sm-6">
              详细地址：<%= addresses_form.text_field :detail_address, class: 'form-control'%>
            </div>
            <% end %>
          </ul>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">图片</label>
        <div class="col-sm-10">
           <%=f.file_field :file, class: 'form-control'%>
        </div>
      </div>

      <%= f.submit '提交', class: "btn btn-primary float-r" %>
    <% end %>
  </div>
</div>